header#document-header
    align-items: center
    display: flex
    justify-content: center
    nav.primary-menu .header-button
        &[aria-expanded="false"]
            span:last-of-type::before
                @include icon-site("icon-menu")
        &[aria-expanded="true"]
            span:last-of-type::before
                @include icon-site("icon-close")
    
    .nav-search
        .search-button
            justify-content: flex-start
            &::after
                order: -1
        @include media-breakpoint-up(desktop)
            display: none
    
    .additional-menu
        align-items: baseline
        display: flex
        justify-content: flex-end
        gap: space(6)
        .search-button--primary
            padding: 0
            width: auto
            line-height: var(--meta-line-height)
            @include media-breakpoint-down(desktop)
                display: none
        
        @include media-breakpoint-up(xxl)
            gap: space(9)
        
        @include media-breakpoint-down(desktop)
            width: 100%
        
        @include media-breakpoint-up(desktop)
            min-width: offset(3)

            // align additional menu on the right of the 2nd line in medium devices
            @include media-breakpoint-down(xl)
                margin-left: auto
    .search-button,
    .change-color-mode-button
        span
            @include small
            font-weight: bold
            white-space: nowrap
    
    .change-color-mode-button
        @include button-reset
        @include h5
        color: var(--color-text)
        padding: 0
        text-align: right
        span
            justify-content: flex-end
        .color-mode
            display: flex
        .reading-mode
            display: none
        &.is-color-mode
            .color-mode
                display: none
            .reading-mode
                display: flex
        span:not(:first-child)
            font-weight: bold
            position: relative
            align-items: center
            padding-right: space(12)
            &::before,
            &::after
                content: ''
                position: absolute
            &::before
                background: var(--color-text)
                border-radius: 30px
                height: pxToRem(22)
                right: 0
                bottom: 0
                width: space(10)
            &::after
                background: var(--color-background)
                border-radius: 100%
                height: pxToRem(18)
                right: 2px
                bottom: 2px
                width: pxToRem(18)
        &:not(.is-color-mode)
            span:not(:first-child)::after
                right: calc(#{space(10)} - #{pxToRem(18)} - 2px)

        @include media-breakpoint-up(desktop)
            .label
                @include visually-hidden

        @include media-breakpoint-up(xl)
            @include media-breakpoint-down(xxxl)
                width: columns(2)
            @include media-breakpoint-up(xxxl)
                width: offset(1.2)
        
        @include media-breakpoint-down(desktop)
            align-items: baseline
            border-bottom: 1px solid $color-border-alt
            border-top: 1px solid $color-border-alt
            display: flex
            gap: $spacing-1 
            margin-left: var(--grid-gutter-negative)
            margin-right: var(--grid-gutter-negative)
            padding: $spacing-2 var(--grid-gutter)
            width: calc(100% + calc(var(--grid-gutter) * 2))
            span + span
                width: columns(6.2)
                justify-content: space-between

            html:not(.has-menu-opened) &
                margin-top: pxToRem(13)
    
    @include media-breakpoint-up(desktop)
        .menu-socials
            display: none
        .nav-level-1
            > li > a
                @include h5
    
    @include media-breakpoint-down(desktop)
        nav.primary-menu
            padding-bottom: 0
            > .container
                align-items: flex-start
            .header-button
                span:last-of-type::before
                    font-size: space(5) !important
                    margin-top: -$spacing-1
        
        html:not(.has-menu-opened) &
            .menu-socials
                display: none

        html.has-menu-opened &
            align-items: flex-start
            height: 100%
            .container
                height: 100svh
                padding-bottom: var(--grid-gutter)

            .additional-menu
                margin-top: space(-1)
                .change-color-mode-button
                    margin-top: 0
                    order: 1
            .menu
                margin-top: space(-4)
                order: 2

            .nav-level-1
                display: flex
                flex-direction: column
                > li:first-of-type,
                > li.has-children
                    border-top: 4px solid var(--color-text)
                > li.has-children
                    margin-top: calc(#{pxToRem(30)} - #{$spacing-1})
                .nav-search
                    order: -1
                > li.has-children
                    order: 2
                // li between borders
                > li:not(.has-children, .nav-search)
                    &:first-child a
                        padding-top: pxToRem(30)
                    &:laft-child a
                        padding-bottom: pxToRem(30)
            
            .menu-socials
                display: block
                order: 3
                width: 100%
                .nav-social,
                .site-links
                    display: flex
                    padding: 0
                    margin-top: 0
                    margin-bottom: 0
                    li
                        &::after
                            margin-left: 0
                            font-size: space(10) !important
                            margin-right: 0
                        + li
                            margin-top: 0
                    .tiktok
                        order: -1
                        &::after
                            @include icon-site(icon-tiktok)
                    .linkedin
                        order: 0
                        &::after
                            @include icon-site(icon-linkedin)
                    .instagram
                        order: -2
                        &::after
                            @include icon-site(icon-instagram)
                    .facebook
                        order: 2
                        &::after
                            @include icon-site(icon-facebook)
                    @include media-breakpoint-down(desktop)
                        justify-content: space-between

    .header-button
        span:first-child
            @extend .sr-only

    // only display dropdown infos for mobile
    .nav-level-1 
        li.has-children
            #dropdown-mobile-infos
                @extend .sr-only
            
            @include media-breakpoint-up(desktop)
                display: none
            
        @include media-breakpoint-down(desktop)
            #dropdown-mobile-infos + .dropdown-menu
                display: block
                padding-bottom: 0
                padding-top: pxToRem(30)
                a
                    @include h6
                    padding: 0
                li + li
                    margin-top: space(5)
            li
                a
                    @include h4
                    padding-bottom: $spacing-1
                &:not(:last-child)
                    border-bottom: 0
            .search-button
                span
                    @include small
                    font-weight: bold